\subsection{Changing Job Access Control List}
\label{change_acl}

In order to change ACL for a job a special event \verb+ChangeACL+ is used. This
event can be logged by the job owner using the glite-lb-logevent command (see also
Sect.~\ref{glite-lb-logevent}). General template for changing the ACL is as follows:
\begin{verbatim}
glite-lb-logevent -e ChangeACL -s UserInterface -p	--permission 1          \
        -j <job_id>                                                     \
        --user_id <user_id>                                             \
        --user_id_type <user_id_type>                                   \
        --permission_type <permission_type> --operation <operation>
\end{verbatim}

where

\begin{tabularx}{\textwidth}{lX}
\verb'<job_id>'    & specifies the job to change \\
\verb'<user_id>'   & specifies the user to use, can be either an X.500 name
                     (subject name) or a VOMS group (of the form <VO>:<Group>)\\
\verb'<user_id_type>'    & \verb'0' or \verb'1', indicating \verb'user_id'
                     specifies X.500 name or VOMS group, respectively \\
\verb'<permission_type>' & \verb'0' or \verb'1', indicating the user is 
                     \textit{allowed} or \textit{denied}, respectively \\
\verb'<operation>' & \verb'0' or \verb'1' indicating the record carried in
                     the event shall be added or removed, respectively from
		     the ACL \\
\end{tabularx}

Adding a user specified by her subject name to the ACL (\verb'user_id' =
subject name, \verb'user_id_type' = 0, \verb'permission_type' = 0,
\verb'operation' = 0):
\begin{verbatim}
glite-lb-logevent -e ChangeACL -s UserInterface -p --permission 1          \
        -j https://scientific.civ.zcu.cz:9000/PC8Y6jBitHt_fKMTEKFnVw    \
        --user_id '/O=CESNET/O=Masaryk University/CN=Daniel Kouril'     \
        --user_id_type 0 --permission_type 0 --operation 0
\end{verbatim}

Removing a user specified by her subject name from the ACL (\verb'user_id' =
subject name, \verb'user_id_type' = 0, \verb'permission_type' = 0,
\verb'operation' = 1):

\begin{verbatim}
glite-lb-logevent -e ChangeACL -s UserInterface -p --permission 1          \
        -j https://scientific.civ.zcu.cz:9000/PC8Y6jBitHt_fKMTEKFnVw    \
        --user_id '/O=CESNET/O=Masaryk University/CN=Daniel Kouril'     \
        --user_id_type 0 --permission_type 0 --operation 1
\end{verbatim}

Adding a VOMS group to the ACL (\verb'user_id' = VOMS group,
\verb'user_id_type' = 1,  \verb'permission_type' = 0, \verb'operation' = 0):

\begin{verbatim}
glite-lb-logevent -e ChangeACL -s UserInterface -p --permission 1          \
        -j https://scientific.civ.zcu.cz:9000/PC8Y6jBitHt_fKMTEKFnVw    \
        --user_id 'VOCE:/VOCE'                                          \
        --user_id_type 1 --permission_type 0 --operation 0
\end{verbatim}

Denying a particular user from accessing information about the job, can be
combined e.g. with VOMS groups (\verb'user_id' = subject name,
\verb'user_id_type' = 0, \verb'permission_type' = 1, \verb'operation' = 0):

\begin{verbatim}
glite-lb-logevent -e ChangeACL -s UserInterface -p --permission 1          \
        -j https://scientific.civ.zcu.cz:9000/PC8Y6jBitHt_fKMTEKFnVw    \
        --user_id '/O=CESNET/O=Masaryk University/CN=Daniel Kouril'     \
        --user_id_type 0 --permission_type 1 --operation 0
\end{verbatim}

